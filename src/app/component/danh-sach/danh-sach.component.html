<p-panel header="Danh sách vụ án">
  <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: auto">
    <div class="ui-grid-row">
      <div class="ui-grid-col">
        <p-button (click)="onShowCreate()">Thêm mới vụ án</p-button>
      </div>
    </div>
    <div class="ui-grid-row">
      <div class="ui-grid-col-2">
        <p-table [value]="vuAn" [tableStyle]="{ 'min-width': '50rem' }">
          <ng-template pTemplate="header">
            <tr>
              <th>id</th>
              <th>Tên vụ án</th>
              <th>Mô tả</th>
              <th style="width: 5rem">Hành động</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-vuAn>
            <tr>
              <td>{{ vuAn.id }}</td>
              <td>{{ vuAn.name }}</td>
              <td>{{ vuAn.description }}</td>
              <td style="display: flex">
                <button
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-arrow-down"
                  pTooltip="Tải về vụ án"
                  tooltipPosition="top"
                  (click)="onDownLoadVuAn(vuAn)">
                </button>
                <button
                  style="margin-left: 10px"
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-eye"
                  pTooltip="Xem chi tiết"
                  tooltipPosition="top"
                  (click)="onDetailVuAn(vuAn)">
                </button>
                <button
                  style="margin-left: 10px"
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-file-edit"
                  pTooltip="Chỉnh sửa"
                  tooltipPosition="top"
                  (click)="onShowUpdateVuan(vuAn)">
                </button>
                <button
                  style="margin-left: 10px"
                  type="button"
                  pButton
                  pRipple
                  icon="pi pi-trash"
                  pTooltip="Xóa"
                  tooltipPosition="top"
                  (click)="onShowDeleteVuan(vuAn)">
                </button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
  <p-dialog header="Thêm mới vụ án" [(visible)]="visibleCreateModal" [style]="{ width: '25rem' }"
            [draggable]="false">
    <div class="flex align-items-center gap-3 mb-3">
      <label for="createName" class="font-semibold w-6rem">Tên vụ án</label>
      <input pInputText id="createName" class="flex-auto" [(ngModel)]="createVuAn.name" autocomplete="off"/>
    </div>
    <div class="flex align-items-center gap-3 mb-3">
      <label for="createDescription" class="font-semibold w-6rem">Mô tả</label>
      <input pInputText id="createDescription" class="flex-auto" [(ngModel)]="createVuAn.description"
             autocomplete="off"/>
    </div>
    <div class="flex justify-content-end gap-2">
      <p-button label="Hủy" severity="secondary" (click)="visibleCreateModal = false"/>
      <p-button label="Thêm" (click)="onConfirmCreateVuAn()"/>
    </div>
  </p-dialog>
  <p-dialog header="Chỉnh sửa vụ án" [(visible)]="visibleUpdateModal" [style]="{ width: '25rem' }">
    <div class="flex align-items-center gap-3 mb-3">
      <label for="updateName" class="font-semibold w-6rem">Tên vụ án</label>
      <input pInputText id="updateName" class="flex-auto" [(ngModel)]="updateVuAn.name" autocomplete="off"/>
    </div>
    <div class="flex align-items-center gap-3 mb-3">
      <label for="updateDescription" class="font-semibold w-6rem">Mô tả</label>
      <input pInputText id="updateDescription" class="flex-auto" [(ngModel)]="updateVuAn.description"
             autocomplete="off"/>
    </div>
    <div class="flex justify-content-end gap-2">
      <p-button label="Hủy" severity="secondary" (click)="visibleUpdateModal = false"/>
      <p-button label="Lưu" (click)="onConfirmUpdateVuAn()"/>
    </div>
  </p-dialog>
  <p-dialog header="Chỉnh sửa vụ án" [(visible)]="visibleDeleteModal" [style]="{ width: '25rem' }">
    <div class="flex align-items-center gap-3 mb-3">
      Bạn có chắc chắn xóa vụ án: {{ deleteVuAn.name }}
    </div>
    <div class="flex justify-content-end gap-2">
      <p-button label="Hủy" severity="secondary" (click)="visibleDeleteModal = false"/>
      <p-button label="Xóa" (click)="onConfirmDeleteVuAn()"/>
    </div>
  </p-dialog>
</p-panel>
